{"version":3,"sources":["../src/skrin_puppeteer.js"],"names":[],"mappings":";;;AASA,eAAsB,WAAW,IAAA,EAAM;AACrC,EAAA,MAAM,KAAK,IAAA,CAAK,uCAAA,EAAyC,EAAE,SAAA,EAAW,gBAAgB,CAAA;AACtF,EAAA,MAAM,IAAA,CAAK,IAAA,CAAK,wBAAA,EAA0B,OAAA,CAAQ,IAAI,cAAc,CAAA;AACpE,EAAA,MAAM,IAAA,CAAK,IAAA,CAAK,wBAAA,EAA0B,OAAA,CAAQ,IAAI,cAAc,CAAA;AACpE,EAAA,MAAM,OAAA,CAAQ,GAAA,CAAI,CAAC,IAAA,CAAK,MAAM,uBAAuB,CAAA,EAAG,IAAA,CAAK,iBAAA,CAAkB,EAAE,SAAA,EAAW,cAAA,EAAgB,CAAC,CAAC,CAAA;AAC9G,EAAA,OAAA,CAAQ,IAAI,kBAAkB,CAAA;AAChC;AAYA,eAAsB,iBAAA,CAAkB,IAAA,EAAM,WAAA,GAAc,IAAA,EAAM;AAChE,EAAA,MAAM,IAAA,CAAK,KAAK,4CAAA,EAA8C;AAAA,IAC5D,SAAA,EAAW,cAAA;AAAA,IACX,OAAA,EAAS;AAAA,GACV,CAAA;AAED,EAAA,MAAM,gBAAA,CAAiB,IAAA,EAAM,GAAA,EAAM,GAAK,CAAA;AAExC,EAAA,MAAM,KAAK,eAAA,CAAgB,qBAAA,EAAuB,EAAE,OAAA,EAAS,MAAM,CAAA;AACnE,EAAA,MAAM,IAAA,CAAK,MAAM,qBAAqB,CAAA;AAEtC,EAAA,IAAI,WAAA,EAAa;AACf,IAAA,MAAM,IAAA,CAAK,KAAK,gDAAA,EAAkD;AAAA,MAChE,SAAA,EAAW,cAAA;AAAA,MACX,OAAA,EAAS;AAAA,KACV,CAAA;AAAA,EACH;AAEA,EAAA,MAAM,gBAAA,CAAiB,IAAA,EAAM,GAAA,EAAM,GAAK,CAAA;AAC1C","file":"skrin_puppeteer.js","sourcesContent":["import { waitForDomStable } from './puppeteer_utils.js';\n\n/**\n * Logs into the skrining web application using provided credentials.\n *\n * @param {import('puppeteer').Page} page - The Puppeteer page instance to perform login on\n * @returns {Promise<void>} A promise that resolves when login is successful\n * @throws {Error} If login fails or required environment variables are missing\n */\nexport async function skrinLogin(page) {\n  await page.goto('https://sumatera.sitb.id/sitb2024/app', { waitUntil: 'networkidle2' });\n  await page.type('input[name=\"username\"]', process.env.skrin_username);\n  await page.type('input[name=\"password\"]', process.env.skrin_password);\n  await Promise.all([page.click('button[type=\"submit\"]'), page.waitForNavigation({ waitUntil: 'networkidle2' })]);\n  console.log('Login successful');\n}\n\n/**\n * Navigates to the skrining page and initiates the process to add a new skrining entry.\n * This function first goes to the main skrining page, waits for and clicks the \"Add\" button,\n * then optionally navigates to the add skrining form page.\n *\n * @param {import('puppeteer').Page} page - The Puppeteer page instance to navigate\n * @param {boolean} [replacePage=true] - Whether to navigate to the add skrining form page after clicking the add button\n * @returns {Promise<void>} A promise that resolves when navigation is complete\n * @throws {Error} If navigation fails or required elements are not found within the timeout period\n */\nexport async function enterSkriningPage(page, replacePage = true) {\n  await page.goto('https://sumatera.sitb.id/sitb2024/skrining', {\n    waitUntil: 'networkidle2',\n    timeout: 120000\n  });\n\n  await waitForDomStable(page, 3000, 30000);\n\n  await page.waitForSelector('#btnAdd_ta_skrining', { visible: true });\n  await page.click('#btnAdd_ta_skrining');\n\n  if (replacePage) {\n    await page.goto('https://sumatera.sitb.id/sitb2024/Skrining/add', {\n      waitUntil: 'networkidle2',\n      timeout: 120000\n    });\n  }\n\n  await waitForDomStable(page, 3000, 30000);\n}\n"]}