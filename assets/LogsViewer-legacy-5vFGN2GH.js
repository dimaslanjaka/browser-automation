System.register(["./index-legacy-DJzEhpmQ.js","./bootstrap-legacy-C4j1HCZ1.js","./react-router-legacy-BHL8pukZ.js","./Header-legacy-BggnwbKu.js","./react-legacy-DWrEKM-J.js"],function(e,a){"use strict";var t,s,l,r,n,i,d,o,c,m,h,x,j;return{setters:[e=>{t=e.u,s=e._},e=>{l=e.j,r=e.c,n=e.I,i=e.d,d=e.A,o=e.P,c=e.T},e=>{m=e.r,h=e.u},e=>{x=e.H,j=e.F},null],execute:function(){var p=document.createElement("style");function u(e){return e.replace(/([A-Za-zÀ-ÖØ-öø-ÿ]+(?:['’][A-Za-zÀ-ÖØ-öø-ÿ]+)?)/g,e=>/^[A-ZÀ-ÖØ-Þ]+$/.test(e)?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():e.charAt(0).toUpperCase()+e.slice(1))}p.textContent="._paginationScroll_dl4jo_1{overflow-x:auto;-webkit-overflow-scrolling:touch;width:100%;max-width:100vw;padding-bottom:4px}._pagination_dl4jo_1{flex-wrap:nowrap!important}._logHeader_dl4jo_13{font-weight:700;font-size:1.1em}._logTimestamp_dl4jo_18{font-size:.9em}._sectionTitle_dl4jo_22{font-weight:700;margin-top:1em}._accordionHeader_dl4jo_27,._accordionHeader_dl4jo_27[aria-expanded=true]{font-size:.9em!important;padding:.15em .7em!important;max-height:2em!important}._accordionButton_dl4jo_39{font-size:.85em;padding:.15em .7em;max-height:2em}.accordion-button,.accordion-button:not(.collapsed){font-size:.9em!important;padding:.15em .7em!important;max-height:2em!important}@media (max-width: 600px){._accordionHeader_dl4jo_27,._accordionHeader_dl4jo_27[aria-expanded=true],._accordionButton_dl4jo_39,.accordion-button,.accordion-button:not(.collapsed){max-height:2.5em!important}}._container_dl4jo_64{border-radius:1em;box-shadow:0 2px 16px rgba(0,0,0,.12);max-width:100vw}@media (max-width: 600px){._container_dl4jo_64{padding:.5em;border-radius:.5em;box-shadow:0 1px 8px rgba(0,0,0,.1)}}#_logs-viewer_dl4jo_1 h1{font-family:Inter,Arial,sans-serif;font-weight:700;letter-spacing:.02em;text-align:center;margin-bottom:1.5em}._accordionItem_dl4jo_85{border-radius:.7em;margin-bottom:.25em;box-shadow:0 1px 8px rgba(0,0,0,.1);border:none}._accordionBody_dl4jo_92{border-radius:.7em}._table_dl4jo_96{border-radius:.7em;overflow:hidden}[data-bs-theme=dark] ._textSuccess_dl4jo_101{color:#4efc6e!important}[data-bs-theme=dark] ._textInvalid_dl4jo_105{color:#ffb84d!important}[data-bs-theme=dark] ._textError_dl4jo_109{color:#ff5c5c!important}._textSuccess_dl4jo_101{color:#198754!important}._textInvalid_dl4jo_105{color:#fd7e14!important}._textError_dl4jo_109{color:#dc3545!important}._collapseAllBtn_dl4jo_125{position:fixed;bottom:2.5em;right:1.5em;z-index:1050;width:2.8em;height:2.8em;font-size:1.3em;border-radius:50%!important;background:#fff;border:1.5px solid #bbb;box-shadow:0 2px 8px rgba(0,0,0,.13);display:flex;align-items:center;justify-content:center;color:#333;transition:background .2s,box-shadow .2s;cursor:pointer;padding:0!important;overflow:hidden}._collapseAllBtn_dl4jo_125:hover{background:#f3f3f3;box-shadow:0 4px 16px rgba(0,0,0,.18);color:#222}@media (max-width: 600px){._collapseAllBtn_dl4jo_125{width:2.3em!important;height:2.3em!important;font-size:1.2em!important;right:1em!important;top:1.2em!important;bottom:auto!important}}\n/*$vite$:1*/",document.head.appendChild(p),e("default",function({pageTitle:e="Log Viewer"}){const[c,p]=m.useState([]),[u,f]=m.useState(!0),[b,v]=m.useState(""),[k,y]=m.useState({status:"",gender:"",provinsi:"",kotakab:"",kecamatan:""}),[N,w]=m.useState(1),[S,C]=m.useState([]),[A,I]=m.useState(!1),T=h(),{theme:B}=t();m.useEffect(()=>{let e=!0;return f(!0),s(async()=>{const{decryptJson:e}=await a.import("./json-crypto-legacy-C6OXDNOU.js");return{decryptJson:e}},void 0).then(({decryptJson:a})=>{fetch("/browser-automation/assets/data/logs.json").then(e=>e.text()).then(t=>{let s=[];try{s=a(t,"json$ecret")}catch(l){console.error("Failed to decrypt logs:",l),s=[]}e&&p(s)}).catch(()=>{e&&p([])}).finally(()=>{e&&f(!1)})}),()=>{e=!1}},[]);const E=m.useMemo(()=>c.filter(e=>e.data&&"success"===e.data.status).length,[c]),F=m.useMemo(()=>c.filter(e=>e.data&&"success"!==e.data.status).length,[c]),K=m.useMemo(()=>{const e=new Set;return c.forEach(a=>{const t=a.data?.parsed_nik?.data?.provinsi;t&&e.add(t)}),Array.from(e).sort()},[c]),L=m.useMemo(()=>{const e=new Set;return c.forEach(a=>{const t=a.data?.parsed_nik?.data?.kotakab;t&&e.add(t)}),Array.from(e).sort()},[c]),z=m.useMemo(()=>{const e=new Set;return c.forEach(a=>{const t=a.data?.parsed_nik?.data?.namaKec;t&&e.add(t)}),Array.from(e).sort()},[c]),H=m.useMemo(()=>{let e=c;if(b.trim()){const a=b.trim().toLowerCase();e=e.filter(e=>[e.data?.nik,e.data?.nama,e.message,e.data?.tanggal,e.data?.alamat,e.data?.petugas,e.data?.status,e.data?.gender,e.data?.age,e.data?.pekerjaan].some(e=>"string"==typeof e&&e.toLowerCase().includes(a)))}return k.status&&(e=e.filter(e=>e.data?.status===k.status)),k.gender&&(e=e.filter(e=>e.data?.gender===k.gender)),k.provinsi&&(e=e.filter(e=>e.data?.parsed_nik?.data?.provinsi===k.provinsi)),k.kotakab&&(e=e.filter(e=>e.data?.parsed_nik?.data?.kotakab===k.kotakab)),k.kecamatan&&(e=e.filter(e=>e.data?.parsed_nik?.data?.namaKec===k.kecamatan)),e},[c,b,k]),P=Math.ceil(H.length/20),$=H.slice(20*(N-1),20*N);return m.useEffect(()=>{console.log("filteredLogs.length:",H.length,"totalPages:",P,"currentPage:",N,"paginatedLogs.length:",$.length),N>1&&0===$.length&&w(1)},[H.length,P,N,$.length]),m.useEffect(()=>{w(1),C([])},[b,k]),m.useEffect(()=>{C([])},[N]),u?l.jsx("div",{className:"text-center my-5",children:"Loading logs..."}):l.jsxs(l.Fragment,{children:[l.jsx(x,{}),l.jsx("div",{className:"m-0 m-md-5",children:l.jsxs("div",{id:"logs-viewer",className:`container mx-auto py-4 bg-body-tertiary ${g.container}`,"data-bs-theme":B,children:[l.jsxs("button",{type:"button",className:"btn btn-outline-secondary mb-3",onClick:()=>T("/"),children:[l.jsx("i",{className:"fa fa-arrow-left me-2"})," Back"]}),l.jsx("h1",{className:"my-4 text-body",children:e}),l.jsxs("div",{className:"mb-4 d-flex flex-wrap justify-content-center gap-2",children:[l.jsxs(r,{bg:"success",className:"px-3 py-1 fw-normal text-center",style:{fontSize:"0.95em",minWidth:120},children:["Success: ",E]}),l.jsxs(r,{bg:"danger",className:"px-3 py-1 fw-normal text-center",style:{fontSize:"0.95em",minWidth:120},children:["Not Success: ",F]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("button",{type:"button",className:`btn btn-sm ${"dark"===B?"btn-outline-light":"btn-outline-dark"} mb-2`,style:{width:"100%"},"aria-expanded":A,onClick:()=>I(e=>!e),children:[l.jsx("i",{className:"fa "+(A?"fa-chevron-up":"fa-chevron-down")})," Filter Options"]}),A&&l.jsxs("div",{className:"row g-2",children:[l.jsx("div",{className:"col-12 col-sm-6",children:l.jsxs("div",{className:"d-grid",style:{gridTemplateColumns:"110px 1fr",alignItems:"center"},children:[l.jsx("label",{className:"form-label mb-0 text-end pe-2",htmlFor:"filter-status",style:{whiteSpace:"nowrap"},children:"Status:"}),l.jsxs("select",{id:"filter-status",className:"form-select form-select-sm",value:k.status,onChange:e=>y(a=>({...a,status:e.target.value})),children:[l.jsx("option",{value:"",children:"All"}),l.jsx("option",{value:"success",children:"Success"}),l.jsx("option",{value:"invalid",children:"Invalid"}),l.jsx("option",{value:"error",children:"Error"})]})]})}),l.jsx("div",{className:"col-12 col-sm-6",children:l.jsxs("div",{className:"d-grid",style:{gridTemplateColumns:"110px 1fr",alignItems:"center"},children:[l.jsx("label",{className:"form-label mb-0 text-end pe-2",htmlFor:"filter-gender",style:{whiteSpace:"nowrap"},children:"Gender:"}),l.jsxs("select",{id:"filter-gender",className:"form-select form-select-sm",value:k.gender,onChange:e=>y(a=>({...a,gender:e.target.value})),children:[l.jsx("option",{value:"",children:"All"}),l.jsx("option",{value:"L",children:"L"}),l.jsx("option",{value:"P",children:"P"})]})]})}),l.jsx("div",{className:"col-12 col-sm-6",children:l.jsxs("div",{className:"d-grid",style:{gridTemplateColumns:"110px 1fr",alignItems:"center"},children:[l.jsx("label",{className:"form-label mb-0 text-end pe-2",htmlFor:"filter-provinsi",style:{whiteSpace:"nowrap"},children:"Provinsi:"}),l.jsxs("select",{id:"filter-provinsi",className:"form-select form-select-sm",value:k.provinsi,onChange:e=>y(a=>({...a,provinsi:e.target.value})),children:[l.jsx("option",{value:"",children:"All"}),K.map((e,a)=>l.jsx("option",{value:e,children:e},a))]})]})}),l.jsx("div",{className:"col-12 col-sm-6",children:l.jsxs("div",{className:"d-grid",style:{gridTemplateColumns:"110px 1fr",alignItems:"center"},children:[l.jsx("label",{className:"form-label mb-0 text-end pe-2",htmlFor:"filter-kotakab",style:{whiteSpace:"nowrap"},children:"Kota/Kab:"}),l.jsxs("select",{id:"filter-kotakab",className:"form-select form-select-sm",value:k.kotakab,onChange:e=>y(a=>({...a,kotakab:e.target.value})),children:[l.jsx("option",{value:"",children:"All"}),L.map((e,a)=>l.jsx("option",{value:e,children:e},a))]})]})}),l.jsx("div",{className:"col-12 col-sm-6",children:l.jsxs("div",{className:"d-grid",style:{gridTemplateColumns:"110px 1fr",alignItems:"center"},children:[l.jsx("label",{className:"form-label mb-0 text-end pe-2",htmlFor:"filter-kecamatan",style:{whiteSpace:"nowrap"},children:"Kecamatan:"}),l.jsxs("select",{id:"filter-kecamatan",className:"form-select form-select-sm",value:k.kecamatan,onChange:e=>y(a=>({...a,kecamatan:e.target.value})),children:[l.jsx("option",{value:"",children:"All"}),z.map((e,a)=>l.jsx("option",{value:e,children:e},a))]})]})}),l.jsx("div",{className:"col-12 col-sm-6",children:l.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary w-100",title:"Clear Filters",onClick:()=>y({status:"",gender:"",provinsi:"",kotakab:"",kecamatan:""}),children:[l.jsx("i",{className:"fa fa-times"})," Clear Filters"]})})]})]}),l.jsxs(n,{className:"mb-3",id:"log-search-group",children:[l.jsx(n.Text,{children:l.jsx("i",{className:"fa-solid fa-magnifying-glass"})}),l.jsx(i,{type:"text",placeholder:"Search logs...",autoComplete:"off",value:b,onChange:e=>v(e.target.value)}),l.jsxs("button",{type:"button",className:g.collapseAllBtn+" ms-2",title:"Collapse All",onClick:()=>C([]),children:[l.jsx("i",{className:"fa-solid fa-compress"})," ",l.jsx("span",{className:"sr-only",children:"Collapse All"})]})]}),l.jsx(d,{style:{maxHeight:"70vh",overflowY:"auto"},activeKey:S,onSelect:e=>{e&&C(a=>{const t=String(e);let s=Array.isArray(a)?a:[];return s.includes(t)?s.filter(e=>e!==t):[...s,t]})},children:$.map((e,a)=>l.jsx(_,{log:e,idx:String(a+1+20*(N-1))},a))}),l.jsx("div",{className:`my-3 d-flex justify-content-center ${g.paginationScroll}`,children:l.jsxs(o,{size:"sm",children:[l.jsxs(o.Prev,{disabled:1===N,onClick:()=>w(e=>Math.max(1,e-1)),children:[l.jsx("i",{className:"fa fa-angle-left","aria-hidden":"true"}),l.jsx("span",{className:"visually-hidden",children:"Previous"})]}),(()=>{const e=[];let a=!1,t=!1;for(let s=1;s<=P;s++)1===s||s===P||s>=N-2&&s<=N+2?e.push(l.jsx(o.Item,{active:s===N,onClick:()=>w(s),children:s},s)):s<N-2&&!a&&1!==s?(e.push(l.jsx(o.Ellipsis,{disabled:!0},"left-ellipsis")),a=!0):s>N+2&&!t&&s!==P&&(e.push(l.jsx(o.Ellipsis,{disabled:!0},"right-ellipsis")),t=!0);return e})(),l.jsxs(o.Next,{disabled:N===P,onClick:()=>w(e=>Math.min(P,e+1)),children:[l.jsx("i",{className:"fa fa-angle-right","aria-hidden":"true"}),l.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})}),l.jsx(j,{})]})});const g={paginationScroll:"_paginationScroll_dl4jo_1",logTimestamp:"_logTimestamp_dl4jo_18",sectionTitle:"_sectionTitle_dl4jo_22",accordionHeader:"_accordionHeader_dl4jo_27",container:"_container_dl4jo_64",accordionItem:"_accordionItem_dl4jo_85",accordionBody:"_accordionBody_dl4jo_92",table:"_table_dl4jo_96",textSuccess:"_textSuccess_dl4jo_101",textInvalid:"_textInvalid_dl4jo_105",textError:"_textError_dl4jo_109",collapseAllBtn:"_collapseAllBtn_dl4jo_125"};function _({log:e,idx:a}){"string"==typeof e.message&&e.message.toLowerCase().includes("success");let t="";return t="invalid"===e.data?.status?g.textInvalid:"success"===e.data?.status?g.textSuccess:g.textError,l.jsxs(d.Item,{eventKey:String(a),className:g.accordionItem,children:[l.jsx(d.Header,{className:g.accordionHeader,children:l.jsxs("span",{className:"d-block w-100",children:[l.jsx("span",{className:`fw-bold ${t}`,children:e.data?.nik||""})," - ",u(e.data?.nama||"")]})}),l.jsxs(d.Body,{className:g.accordionBody,children:[l.jsxs("div",{className:`${g.logTimestamp} mb-2`,children:["Timestamp: ",e.timestamp||""]}),l.jsx("div",{className:`${g.logMessage} mb-2 ${t}`,children:e.message||e.data?.message||""}),l.jsx("span",{className:g.sectionTitle,children:"Basic Data"}),l.jsx(c,{bordered:!0,striped:!0,className:`mb-3 ${g.table}`,children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("th",{children:"Tanggal"}),l.jsx("td",{children:e.data?.tanggal||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Nama"}),l.jsx("td",{children:u(e.data?.nama||"")})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Tgl Lahir"}),l.jsx("td",{children:e.data?.tgl_lahir||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Alamat"}),l.jsx("td",{children:e.data?.alamat||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"BB"}),l.jsx("td",{children:e.data?.bb||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"TB"}),l.jsx("td",{children:e.data?.tb||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Petugas"}),l.jsx("td",{children:e.data?.petugas||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Status"}),l.jsx("td",{children:e.data?.status||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Gender"}),l.jsx("td",{children:e.data?.gender||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Age"}),l.jsx("td",{children:e.data?.age||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Pekerjaan"}),l.jsx("td",{children:e.data?.pekerjaan||""})]})]})}),e.data?.parsed_nik&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"section-title",children:"Parsed NIK"}),l.jsx(c,{bordered:!0,hover:!0,className:"mb-3 parsed-nik-table",children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("th",{children:"Status"}),l.jsx("td",{children:e.data.parsed_nik.status||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Message"}),l.jsx("td",{children:e.data.parsed_nik.message||""})]}),e.data.parsed_nik.data&&l.jsxs(l.Fragment,{children:[l.jsxs("tr",{children:[l.jsx("th",{children:"NIK"}),l.jsx("td",{children:e.data.parsed_nik.data.nik||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Kelamin"}),l.jsx("td",{children:e.data.parsed_nik.data.kelamin||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Lahir"}),l.jsx("td",{children:e.data.parsed_nik.data.lahir||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Provinsi"}),l.jsx("td",{children:e.data.parsed_nik.data.provinsi||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Kota/Kab"}),l.jsx("td",{children:e.data.parsed_nik.data.kotakab||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Kecamatan"}),l.jsx("td",{children:e.data.parsed_nik.data.namaKec||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Uniqcode"}),l.jsx("td",{children:e.data.parsed_nik.data.uniqcode||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Original Lahir"}),l.jsx("td",{children:e.data.parsed_nik.data.originalLahir||""})]}),l.jsxs("tr",{children:[l.jsx("th",{children:"Kelurahan"}),l.jsx("td",{children:Array.isArray(e.data.parsed_nik.data.kelurahan)?l.jsx("ul",{className:"list-group list-group-flush",children:e.data.parsed_nik.data.kelurahan.map((e,a)=>e&&"object"==typeof e&&e.name?l.jsxs("li",{className:"list-group-item",children:[e.name," ",l.jsxs("span",{className:"text-muted",children:["(ID: ",e.id,", District: ",e.district_id,")"]})]},a):null)}):""})]})]})]})})]}),e.data?.formValues&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"section-title",children:"Form Values"}),l.jsxs(c,{bordered:!0,size:"sm",className:"mb-3",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Label"}),l.jsx("th",{children:"Value"})]})}),l.jsx("tbody",{children:e.data.formValues.map((e,a)=>l.jsxs("tr",{children:[l.jsx("td",{children:e.label||""}),l.jsx("td",{children:e.value||"<empty>"})]},a))})]})]})]})]})}}}});
